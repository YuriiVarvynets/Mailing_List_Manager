<!doctype html>
<html lang=''>
<head>
   {% load staticfiles %}
   <meta charset='utf-8'>
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="{% static 'css/menu_styles.css' %}">
    <script src="{% static 'scripts/menu-jquery-latest.js' %}" type="text/javascript"></script>

   <link rel="stylesheet" href="{% static 'bootstrap_table/src/bootstrap-table.css' %}">
   <script src="{% static 'bootstrap_table/src/bootstrap-table.js' %}"></script>
   <script src="{% static 'bootstrap_table/src/locale/bootstrap-table-en-US.js' %}"></script>

   <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
   <script src="{% static 'scripts/bootstrap.js' %}" type="text/javascript"></script>
    <script type="text/javascript" src="{% static 'scripts/moment.js' %}"></script>
    <script src="{% static 'scripts/bootstrap-datetimepicker.min.js' %}" type="text/javascript"></script>
    <link href="{% static 'css/bootstrap-datetimepicker.css' %}" rel="stylesheet">

    <script type="text/javascript" src="{% static 'scripts/bootstrap-collapse.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/bootstrap-transition.js' %}"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:100' rel='stylesheet' type='text/css'>
    <link href="{% static 'css/my_style.css' %}" rel="stylesheet">
   <title>Mailing List Manager</title>
</head>
<body>

<div id='cssmenu'>
<ul>
    <!--
   <li><a href='/Home'>Home</a></li>-->
   <li><a href='/Import'>Import</a></li>
   <li class="active"><a href='/Search'>Search</a></li>
    <!--
   <li><a href='/About'>About</a></li>-->
</ul>
</div>

<div class="container" style="margin-top: 10px">
<form action='#' method='post'>{% csrf_token %}
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Owner Label Name:</h1>
        </div>
        <div class="col-md-9">
            {{ form.Owner_Label_Name }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Property Address:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Property_Address }}
        </div>
        <div class="col-md-3">
            <h1 id="h1_search">Mail Address:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Mail_Address }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Property City:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Property_City }}
        </div>
        <div class="col-md-3">
            <h1 id="h1_search">Mail City:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Mail_City }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Property State:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Property_State }}
        </div>
        <div class="col-md-3">
            <h1 id="h1_search">Mail State:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Mail_State }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Property Type:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Property_Type }}
        </div>
        <div class="col-md-3">
            <h1 id="h1_search">Equity (percentage):</h1>
        </div>
        <div class="col-md-3">
            {{ form.Equity }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h1 id="h1_search">Last Mail Date:</h1>
        </div>
        <div class="col-md-3">
            <div class='input-group date' id='datetimepicker1'>
                {{ form.Last_Mail_Date }}
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
        </div>
        <div class="col-md-3">
            <h1 id="h1_search">Absentee Owned:</h1>
        </div>
        <div class="col-md-3">
            {{ form.Absentee_Owned }}
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <button class="btn btn-primary" style="width: 100%; margin-top: 15px">Search</button>
        </div>
    </div>
</form>
{% if json_data %}

    {{ json_data }}

    <table id="table"
           data-toolbar="#toolbar"
           data-search="true"
           data-show-refresh="true"
           data-show-toggle="true"
           data-show-columns="true"
           data-show-export="true"
>
    <thead>
    <tr>
        <th data-field="state" data-checkbox="true"></th>
        <th data-field="Owner_Label_Name" data-sortable="true">Owner Name</th>
        <th data-field="Property_Address" data-sortable="true">Property Address</th>
        <th data-field="Property_City" data-sortable="true">Property City</th>
        <th data-field="Property_State" data-sortable="true" data-visible="false">Property State</th>
        <th data-field="Property_Type" data-sortable="true">Prop. Type</th>
        <th data-field="Mail_Address" data-sortable="true">Mail Address</th>
        <th data-field="Mail_City" data-sortable="true">Mail City</th>
        <th data-field="Mail_State" data-sortable="true" data-visible="false">Mail State</th>
        <th data-field="Equity" data-sortable="true" data-visible="false">Equity</th>
        <th data-field="Absentee_Owned" data-sortable="true" data-visible="false">Absentee Owned</th>
        <th data-field="Last_Mail_Date" data-sortable="true">Last Mail Date</th>
        <th data-field="operate"
                data-formatter="operateFormatter"
                data-events="operateEvents">Item Operate</th>
        </tr>
    </tr>
    </thead>
</table>

{% endif %}

{% if form.errors %}
    <p style="color: red;">
        Please correct the error{{ form.errors|pluralize }} below.
    </p>
    <p>
    {{ form.errors }}
    </p>
{% endif %}

</div>




<script type="text/javascript">
    $(function () {
        $('#datetimepicker1').datetimepicker({
             format: 'MM/DD/YYYY'
        });
    });
</script>

<script>

    var data2 = [{'description': 'An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3) ', 'name': 'bootstrap-table', 'stargazers_count': '526', 'forks_count': '122'}];
    var data = JSON.parse('{{ json_data|safe }}');

    $(function () {
        $('#table').bootstrapTable({
            data: data
        });
    });

    var $table = $('#table'),
        $remove = $('#remove');
    $(function () {
        $table.on('check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table', function () {
            $remove.prop('disabled', !$table.bootstrapTable('getSelections').length);
        });
        $remove.click(function () {
            var ids = $.map($table.bootstrapTable('getSelections'), function (row) {
                return row.id
            });
            $table.bootstrapTable('remove', {
                field: 'id',
                values: ids
            });
            $remove.prop('disabled', true);
        });
    });
    function operateFormatter(value, row, index) {
        return [
            '<a class="like" href="javascript:void(0)" title="Like">',
            '<i class="glyphicon glyphicon-heart"></i>',
            '</a>  ',
            '<a class="remove" href="javascript:void(0)" title="Remove">',
            '<i class="glyphicon glyphicon-remove"></i>',
            '</a>'
        ].join('');
    }
    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row));
        },
        'click .remove': function (e, value, row, index) {
            $table.bootstrapTable('remove', {
                field: 'id',
                values: [row.id]
            });
        }
    };


</script>


</body>
</html>
